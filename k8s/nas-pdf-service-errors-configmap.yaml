apiVersion: v1
kind: ConfigMap
metadata:
  name: nas-pdf-service-errors-static
  namespace: print-serv
data:
  errors.html: |
    <!DOCTYPE html>
    <html lang="ru">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>PDF Service - Error Analysis</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <style>
            .error-card {
                margin-bottom: 1rem;
                border-left: 4px solid #dc3545;
            }
            .error-card.warning {
                border-left-color: #ffc107;
            }
            .error-card.critical {
                border-left-color: #dc3545;
                background-color: #fff5f5;
            }
            .error-card.medium {
                border-left-color: #fd7e14;
            }
            .error-card.low {
                border-left-color: #6c757d;
            }
            .error-badge {
                font-size: 0.8rem;
            }
            .stack-trace {
                background-color: #f8f9fa;
                border: 1px solid #dee2e6;
                border-radius: 4px;
                padding: 1rem;
                font-family: 'Courier New', monospace;
                font-size: 0.85rem;
                max-height: 200px;
                overflow-y: auto;
                white-space: pre-wrap;
            }
            .filter-card {
                background-color: #f8f9fa;
                border: none;
                margin-bottom: 1rem;
            }
            .solution-list {
                background-color: #d1ecf1;
                border: 1px solid #bee5eb;
                border-radius: 4px;
                padding: 1rem;
                margin-top: 1rem;
            }
            .solution-list h6 {
                color: #0c5460;
                margin-bottom: 0.5rem;
            }
            .solution-list ul {
                margin-bottom: 0;
                color: #0c5460;
            }
            .health-indicator {
                width: 12px;
                height: 12px;
                border-radius: 50%;
                display: inline-block;
                margin-right: 5px;
            }
            .health-healthy { background-color: #28a745; }
            .health-warning { background-color: #ffc107; }
            .health-critical { background-color: #dc3545; }
            .health-degraded { background-color: #fd7e14; }
            
            .jaeger-link {
                color: #007bff;
                text-decoration: none;
                font-size: 0.9rem;
            }
            .jaeger-link:hover {
                text-decoration: underline;
            }
            
            .refresh-button {
                position: fixed;
                bottom: 20px;
                right: 20px;
                z-index: 1000;
            }
        </style>
    </head>
    <body>
        <div class="container-fluid mt-3">
            <div class="row">
                <div class="col-12">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h1><i class="bi bi-exclamation-triangle"></i> Error Analysis Dashboard</h1>
                        <div class="d-flex gap-2">
                            <a href="/stats" class="btn btn-outline-primary">
                                <i class="bi bi-graph-up"></i> Statistics
                            </a>
                            <button class="btn btn-primary" onclick="refreshData()">
                                <i class="bi bi-arrow-clockwise"></i> Refresh
                            </button>
                        </div>
                    </div>

                    <!-- –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ -->
                    <div class="alert alert-info" role="alert">
                        <h4 class="alert-heading">üöß –°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫</h4>
                        <p>–ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞ –æ—à–∏–±–æ–∫ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é!</p>
                        <hr>
                        <p class="mb-0">
                            <strong>–ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:</strong><br>
                            ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫<br>
                            ‚úÖ API –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –æ—à–∏–±–æ–∫<br>
                            ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º<br>
                            ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Jaeger —Ç—Ä–µ–π—Å–∏–Ω–≥–æ–º<br>
                            ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏<br><br>
                            <strong>–°—Ç–∞—Ç—É—Å:</strong> –û–∂–∏–¥–∞–µ—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ —Å–µ—Ä–≤–∏—Å–∞
                        </p>
                    </div>

                    <!-- –¢–µ—Å—Ç–æ–≤—ã–µ endpoint'—ã -->
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API</h5>
                        </div>
                        <div class="card-body">
                            <p>–ü–æ–∫–∞ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ—Ç—Å—è, –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ endpoint'—ã:</p>
                            <div class="row">
                                <div class="col-md-6">
                                    <h6>–¢–µ–∫—É—â–∏–µ endpoint'—ã:</h6>
                                    <ul class="list-group">
                                        <li class="list-group-item">
                                            <a href="/health" target="_blank">/health</a> - –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
                                        </li>
                                        <li class="list-group-item">
                                            <a href="/stats" target="_blank">/stats</a> - –¢–µ–∫—É—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                                        </li>
                                        <li class="list-group-item">
                                            <a href="/metrics" target="_blank">/metrics</a> - Prometheus –º–µ—Ç—Ä–∏–∫–∏
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6>–ù–æ–≤—ã–µ endpoint'—ã (–ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è):</h6>
                                    <ul class="list-group">
                                        <li class="list-group-item text-muted">
                                            /api/v1/errors - –î–µ—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏
                                        </li>
                                        <li class="list-group-item text-muted">
                                            /api/v1/errors/stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫
                                        </li>
                                        <li class="list-group-item text-muted">
                                            /test-error - –¢–µ—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—à–∏–±–æ–∫
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            console.log('Error Analysis Dashboard - Awaiting deployment');
            
            function refreshData() {
                location.reload();
            }
        </script>
    </body>
    </html>

  errors.js: |
    // Error Analysis Dashboard JavaScript - Placeholder
    console.log('Error tracking system ready for deployment');